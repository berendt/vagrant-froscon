<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>Getting started with Vagrant</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}


#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Getting started with Vagrant</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_prerequisite">Prerequisite</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
for this tutorial: VirtualBox
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="https://www.vagrantup.com/">https://www.vagrantup.com/</a>
</p>
</li>
<li>
<p>
<a href="https://www.vagrantup.com/downloads.html">https://www.vagrantup.com/downloads.html</a>
</p>
</li>
<li>
<p>
<a href="https://docs.vagrantup.com/v2/installation/index.html">https://docs.vagrantup.com/v2/installation/index.html</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># wget --quiet https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.4_x86_64.deb
# dpkg -i vagrant_1.7.4_x86_64.deb
Selecting previously unselected package vagrant.
(Reading database ... 104127 files and directories currently installed.)
Preparing to unpack vagrant_1.7.4_x86_64.deb ...
Unpacking vagrant (1:1.7.4) ...
Setting up vagrant (1:1.7.4) ...</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_discover_vagrant_boxes">Discover Vagrant Boxes</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># vagrant box list
There are no installed boxes! Use `vagrant box add` to add some.</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<a href="https://atlas.hashicorp.com/boxes/search">https://atlas.hashicorp.com/boxes/search</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant box add ubuntu/trusty64
==&gt; box: Loading metadata for box 'ubuntu/trusty64'
    box: URL: https://atlas.hashicorp.com/ubuntu/trusty64
==&gt; box: Adding box 'ubuntu/trusty64' (v20150818.0.0) for provider: virtualbox
    box: Downloading: https://atlas.hashicorp.com/ubuntu/boxes/trusty64/versions/20150818.0.0/providers/virtualbox.box
==&gt; box: Successfully added box 'ubuntu/trusty64' (v20150818.0.0) for 'virtualbox'!</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant box list
ubuntu/trusty64 (virtualbox, 20150818.0.0)</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_create_an_initial_vagrantfile">Create an initial Vagrantfile</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># mkdir 001 &amp;&amp; cd 001
# vagrant init -m ubuntu/trusty64</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
example <code>001</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
end</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_bring_the_machine_up">Bring the machine up</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==&gt; default: Importing base box 'ubuntu/trusty64'...
==&gt; default: Matching MAC address for NAT networking...
==&gt; default: Checking if box 'ubuntu/trusty64' is up to date...
==&gt; default: Setting the name of the VM: 001_default_1440268660704_74933
==&gt; default: Clearing any previously set forwarded ports...
==&gt; default: Clearing any previously set network interfaces...
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==&gt; default: Forwarding ports...
    default: 22 =&gt; 2222 (adapter 1)
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection timeout. Retrying...
    default: Warning: Remote connection disconnect. Retrying...
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it's present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==&gt; default: Machine booted and ready!
==&gt; default: Checking for guest additions in VM...
==&gt; default: Mounting shared folders...
    default: /vagrant =&gt; /root/vagrant-froscon/001</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_connect_to_the_machine">Connect to the machine</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># vagrant ssh
Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.13.0-62-generic x86_64)

 * Documentation:  https://help.ubuntu.com/

  System information as of Sat Aug 22 18:38:04 UTC 2015

  System load:  0.99              Processes:           82
  Usage of /:   2.8% of 39.34GB   Users logged in:     0
  Memory usage: 27%               IP address for eth0: 10.0.2.15
  Swap usage:   0%

  Graph this data and manage this system at:
    https://landscape.canonical.com/

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

0 packages can be updated.
0 updates are security updates.


vagrant@vagrant-ubuntu-trusty-64:~$</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant ssh-config
Host default
  HostName 127.0.0.1
  User vagrant
  Port 2222
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile /root/vagrant-froscon/001/.vagrant/machines/default/virtualbox/private_key
  IdentitiesOnly yes
  LogLevel FATAL</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_destroy_the_machine">Destroy the machine</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># vagrant destroy
    default: Are you sure you want to destroy the 'default' VM? [y/N] y
==&gt; default: Forcing shutdown of VM...
==&gt; default: Destroying VM and associated drives...</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
without a confirmation
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant destroy --force
==&gt; default: Forcing shutdown of VM...
==&gt; default: Destroying VM and associated drives...</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_set_a_hostname">Set a hostname</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/vagrantfile/machine_settings.html">http://docs.vagrantup.com/v2/vagrantfile/machine_settings.html</a>
</p>
</li>
<li>
<p>
example <code>002</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
end</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_specify_resources">Specify resources</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/virtualbox/configuration.html">http://docs.vagrantup.com/v2/virtualbox/configuration.html</a>
</p>
</li>
<li>
<p>
example <code>003</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
end</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_reload_a_running_machine">Reload a running machine</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/cli/reload.html">http://docs.vagrantup.com/v2/cli/reload.html</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant reload
==&gt; default: Attempting graceful shutdown of VM...
==&gt; default: Checking if box 'ubuntu/trusty64' is up to date...
==&gt; default: Clearing any previously set forwarded ports...
==&gt; default: Clearing any previously set network interfaces...
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==&gt; default: Forwarding ports...
    default: 22 =&gt; 2222 (adapter 1)
==&gt; default: Running 'pre-boot' VM customizations...
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection timeout. Retrying...
==&gt; default: Machine booted and ready!
==&gt; default: Checking for guest additions in VM...
==&gt; default: Setting hostname...
==&gt; default: Mounting shared folders...
    default: /vagrant =&gt; /root/vagrant-froscon/003
==&gt; default: Machine already provisioned. Run `vagrant provision` or use the `--provision`
==&gt; default: flag to force provisioning. Provisioners marked to run always will still run.</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
same like <code>vagrant halt</code> followed by <code>vagrant up</code>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_suspend_and_resume_a_machine">Suspend and resume a machine</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code># vagrant suspend
==&gt; default: Saving VM state and suspending execution...</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant status
Current machine states:

default                   saved (virtualbox)

To resume this VM, simply run `vagrant up`.</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant resume
==&gt; default: Resuming suspended VM...
==&gt; default: Booting VM...
==&gt; default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection refused. Retrying...
==&gt; default: Machine booted and ready!</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_forwarded_ports">Forwarded ports</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/networking/forwarded_ports.html">http://docs.vagrantup.com/v2/networking/forwarded_ports.html</a>
</p>
</li>
<li>
<p>
example <code>004</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Forwarding ports...
    default: 80 =&gt; 8080 (adapter 1)
    default: 22 =&gt; 2222 (adapter 1)
[...]</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_internal_networks">Internal networks</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/networking/private_network.html">http://docs.vagrantup.com/v2/networking/private_network.html</a>
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_host_only">Host-only</h3>
<div class="ulist"><ul>
<li>
<p>
<a href="https://www.virtualbox.org/manual/ch06.html#network_hostonly">https://www.virtualbox.org/manual/ch06.html#network_hostonly</a>
</p>
</li>
<li>
<p>
example <code>005</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
    default: Adapter 2: hostonly
[...]</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_internal">Internal</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="https://www.virtualbox.org/manual/ch06.html#network_internal">https://www.virtualbox.org/manual/ch06.html#network_internal</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>  config.vm.network "private_network", ip: "192.168.50.4",
    virtualbox__intnet: true</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
    default: Adapter 2: intnet
[...]</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
example <code>006</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>  config.vm.network "private_network", ip: "192.168.50.4",
    virtualbox__intnet: "testing"</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_provisioning">Provisioning</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/provisioning/index.html">http://docs.vagrantup.com/v2/provisioning/index.html</a>
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_copy_files">Copy files</h3>
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/provisioning/file.html">http://docs.vagrantup.com/v2/provisioning/file.html</a>
</p>
</li>
<li>
<p>
example <code>007</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Running provisioner: file...
[...]</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_script">Script</h3>
<div class="sect3">
<h4 id="_inline">Inline</h4>
<div class="ulist"><ul>
<li>
<p>
example <code>008</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", inline: "echo Hello FrOSCon; date &gt; /etc/vagrant_provisioned_at"
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Running provisioner: shell...
    default: Running: inline script
==&gt; default: stdin: is not a tty
==&gt; default: Hello FrOSCon
[...]</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<a href="https://github.com/mitchellh/vagrant/issues/1673">https://github.com/mitchellh/vagrant/issues/1673</a> &#8658; <code>config.ssh.shell = "bash -c 'BASH_ENV=/etc/profile exec bash'"</code>
</p>
</li>
<li>
<p>
example <code>009</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>$script = &lt;&lt;SCRIPT
echo Hello FrOSCon
date &gt; /etc/vagrant_provisioned_at
SCRIPT

Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", inline: $script
end</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_file">File</h4>
<div class="ulist"><ul>
<li>
<p>
example <code>010</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", path: "script.sh"
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Running provisioner: shell...
    default: Running: /tmp/vagrant-shell20150822-3820-mio3gb.sh
==&gt; default: stdin: is not a tty
==&gt; default: Hello FrOSCon
[...]</code></pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_ansible">Ansible</h3>
<div class="ulist"><ul>
<li>
<p>
<code>playbook.yaml</code>
</p>
</li>
<li>
<p>
example <code>011</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>---
- hosts: all
  tasks:
    - apt: name=vim update_cache=yes state=latest
      sudo: True</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", path: "script.sh"
  config.vm.provision "ansible" do |ansible|
    ansible.playbook = "playbook.yaml"
  end
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>ansible provisioner:
* `playbook` for the Ansible provisioner does not exist on the host system: /root/vagrant-froscon/011/playbook.yml</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>apt-get install -y ansible</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Running provisioner: ansible...

PLAY [all] ********************************************************************

GATHERING FACTS ***************************************************************
ok: [default]

TASK: [apt name=vim update_cache=yes state=latest] ****************************
ok: [default]

PLAY RECAP ********************************************************************
default                    : ok=2    changed=0    unreachable=0    failed=0
[...]</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synced_folders">Synced folders</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/synced-folders/index.html">http://docs.vagrantup.com/v2/synced-folders/index.html</a>
</p>
</li>
<li>
<p>
example <code>012</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># mount
[...]
vagrant on /vagrant type vboxsf (uid=1000,gid=1000,rw)</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
config.vm.synced_folder ".", "/vagrant", disabled: true
[...]</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.network "private_network", ip: "192.168.50.4"
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", path: "script.sh"
  config.vm.provision "ansible" do |ansible|
    ansible.playbook = "playbook.yaml"
  end
  config.vm.synced_folder "syncme/", "/opt/syncme"
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>[...]
==&gt; default: Mounting shared folders...
    default: /vagrant =&gt; /root/vagrant-froscon/012
    default: /opt/syncme =&gt; /root/vagrant-froscon/012/syncme
[...]</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># mount
[...]
opt_syncme on /opt/syncme type vboxsf (uid=1000,gid=1000,rw)</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_multi_machine_environments">Multi-machine environments</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/multi-machine/">http://docs.vagrantup.com/v2/multi-machine/</a>
</p>
</li>
<li>
<p>
example <code>013</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.provision "file", source: "important_file", destination: "important_file"
  config.vm.provision "shell", path: "script.sh"
  config.vm.provision "ansible" do |ansible|
    ansible.playbook = "playbook.yaml"
  end
  config.vm.synced_folder "syncme/", "/opt/syncme"
  config.vm.define "first" do |node|
    node.vm.name = "first"
    node.vm.network "forwarded_port", guest: 80, host: 8080
    node.vm.network "private_network", ip: "192.168.50.4"
  end
  config.vm.define "second" do |node|
    node.vm.name = "second"
    node.vm.network "forwarded_port", guest: 80, host: 8081
    node.vm.network "private_network", ip: "192.168.50.5"
  end
end</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Bringing machine 'first' up with 'virtualbox' provider...
Bringing machine 'second' up with 'virtualbox' provider...
[...]</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>vagrant ssh first</code>
</p>
</li>
<li>
<p>
<code>vagrant ssh second</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant status
Current machine states:

first                     running (virtualbox)
second                    running (virtualbox)

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_packaging">Packaging</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/cli/package.html">http://docs.vagrantup.com/v2/cli/package.html</a>
</p>
</li>
<li>
<p>
<a href="https://packer.io/">https://packer.io/</a>
</p>
</li>
<li>
<p>
<a href="https://github.com/boxcutter/">https://github.com/boxcutter/</a>
</p>
</li>
<li>
<p>
<a href="https://github.com/chef/bento/">https://github.com/chef/bento/</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant package
==&gt; default: Attempting graceful shutdown of VM...
==&gt; default: Clearing any previously set forwarded ports...
==&gt; default: Exporting VM...
==&gt; default: Compressing package to: /root/vagrant-froscon/001/package.box</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant box add --name our_new_box package.box
==&gt; box: Box file was not detected as metadata. Adding it directly...
==&gt; box: Adding box 'our_new_box' (v0) for provider:
    box: Unpacking necessary files from: file:///root/vagrant-froscon/001/package.box
==&gt; box: Successfully added box 'our_new_box' (v0) for 'virtualbox'!</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant box list
our_new_box     (virtualbox, 0)
ubuntu/trusty64 (virtualbox, 20150818.0.0)</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant init -m our_new_box
A `Vagrantfile` has been placed in this directory. You are now
ready to `vagrant up` your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
`vagrantup.com` for more information on using Vagrant.</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_sharing">Sharing</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="https://docs.vagrantup.com/v2/share/index.html">https://docs.vagrantup.com/v2/share/index.html</a>
</p>
</li>
<li>
<p>
example <code>014</code>
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_http">HTTP</h3>
<div class="listingblock">
<div class="content">
<pre><code>$script = &lt;&lt;SCRIPT
apt-get update &amp;&amp; apt-get install -y apache2
SCRIPT

Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/trusty64"
  config.vm.hostname = "vagrant"
  config.vm.provider "virtualbox" do |v|
    v.memory = 1024
    v.cpus = 2
  end
  config.vm.network "forwarded_port", guest: 80, host: 8080
  config.vm.provision "shell", inline: $script
end</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<a href="https://atlas.hashicorp.com/">https://atlas.hashicorp.com/</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant login
In a moment we will ask for your username and password to HashiCorp's
Atlas. After authenticating, we will store an access token locally on
disk. Your login details will be transmitted over a secure connection, and
are never stored on disk locally.

If you do not have an Atlas account, sign up at
https://atlas.hashicorp.com.

Atlas Username: yourusername
Password (will be hidden):
You are now logged in.</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant share
==&gt; default: Detecting network information for machine...
    default: Local machine address: 127.0.0.1
    default:
    default: Note: With the local address (127.0.0.1), Vagrant Share can only
    default: share any ports you have forwarded. Assign an IP or address to your
    default: machine to expose all TCP ports. Consult the documentation
    default: for your provider ('virtualbox') for more information.
    default:
    default: Local HTTP port: 8080
    default: Local HTTPS port: disabled
    default: Port: 2222
    default: Port: 8080
==&gt; default: Checking authentication and authorization...
==&gt; default: Creating Vagrant Share session...
    default: Share will be at: horrid-horse-6802
==&gt; default: Your Vagrant Share is running! Name: horrid-horse-6802
==&gt; default: URL: http://horrid-horse-6802.vagrantshare.com
==&gt; default:
==&gt; default: You're sharing your Vagrant machine in "restricted" mode. This
==&gt; default: means that only the ports listed above will be accessible by
==&gt; default: other users (either via the web URL or using `vagrant connect`).</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_ssh">SSH</h3>
<div class="listingblock">
<div class="content">
<pre><code># vagrant share --ssh --ssh-no-password
==&gt; default: Detecting network information for machine...
    default: Local machine address: 127.0.0.1
    default:
    default: Note: With the local address (127.0.0.1), Vagrant Share can only
    default: share any ports you have forwarded. Assign an IP or address to your
    default: machine to expose all TCP ports. Consult the documentation
    default: for your provider ('virtualbox') for more information.
    default:
    default: Local HTTP port: 8080
    default: Local HTTPS port: disabled
    default: SSH Port: 2222
    default: Port: 2222
    default: Port: 8080
==&gt; default: Generating new SSH key...
    default: Inserting generated SSH key into machine...
==&gt; default: Checking authentication and authorization...
==&gt; default: Creating Vagrant Share session...
    default: Share will be at: generous-lemur-5016
==&gt; default: Your Vagrant Share is running! Name: generous-lemur-5016
==&gt; default: URL: http://generous-lemur-5016.vagrantshare.com
==&gt; default:
==&gt; default: You're sharing your Vagrant machine in "restricted" mode. This
==&gt; default: means that only the ports listed above will be accessible by
==&gt; default: other users (either via the web URL or using `vagrant connect`).
==&gt; default:
==&gt; default: You're sharing with SSH access. This means that another user
==&gt; default: simply has to run `vagrant connect --ssh generous-lemur-5016`
==&gt; default: to SSH to your Vagrant machine.</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant connect --ssh generous-lemur-5016
Loading share 'generous-lemur-5016'...
Executing SSH...
Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.13.0-62-generic x86_64)

 * Documentation:  https://help.ubuntu.com/

  System information as of Sat Aug 22 20:40:44 UTC 2015

  System load:  0.02              Processes:           89
  Usage of /:   2.9% of 39.34GB   Users logged in:     0
  Memory usage: 14%               IP address for eth0: 10.0.2.15
  Swap usage:   0%

  Graph this data and manage this system at:
    https://landscape.canonical.com/

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud


vagrant@vagrant:~$</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ruby_inside_a_vagrantfile">Ruby inside a Vagrantfile</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>Vagrantfile</code>
</p>
</li>
<li>
<p>
example <code>015</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>require 'yaml'

unless defined? ENVIRONMENT
  environment_file = File.join(File.dirname(__FILE__), 'environment.yaml')
  ENVIRONMENT = YAML.load(File.open(environment_file, File::RDONLY).read)
end

Vagrant.configure(2) do |config|
  config.hostmanager.enabled = true
  config.hostmanager.manage_host = true
  config.hostmanager.ignore_private_ip = false
  config.hostmanager.include_offline = true
  ENVIRONMENT.each do |name, details|
    config.vm.define name do |node|
      node.vm.box = details['box']
      node.vm.hostname = name
      node.vm.network :private_network, ip: details['address']
      node.vm.provider 'virtualbox' do |vb|
        vb.customize ['modifyvm', :id, '--memory', details['memory']]
        vb.customize ['modifyvm', :id, '--cpus', details['cpus']]
      end
      if details.has_key?('storage')
        node.vm.provider 'virtualbox' do |vb|
          vb.customize ['createhd', '--filename', "#{name}.vdi",
                        '--size', details['storage']]
          vb.customize ['storageattach', :id, '--storagectl',
                        'SATA Controller', '--port', 1, '--device',
                        0, '--type', 'hdd', '--medium', "#{name}.vdi"]
        end
      end
    end
  end
end</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>environment.yaml</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>---
controller:
  memory: 8192
  cpus: 4
  address: 10.25.25.10
  box: boxcutter/centos71
network:
  memory: 4096
  cpus: 2
  address: 10.25.25.20
  box: boxcutter/centos71</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_plugins">Plugins</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/plugins/index.html">http://docs.vagrantup.com/v2/plugins/index.html</a>
</p>
</li>
<li>
<p>
<a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins">https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins</a>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant plugin list
vagrant-share (1.1.4, system)</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code># vagrant plugin install vagrant-openstack-provider
Installing the 'vagrant-openstack-provider' plugin. This can take a few minutes...
Installed the plugin 'vagrant-openstack-provider (0.7.0)'!</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>unless Vagrant.has_plugin?("vagrant-openstack-provider")
  raise "vagrant-openstack-provider is not installed"
end</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_provider">Provider</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<a href="http://docs.vagrantup.com/v2/providers/index.html">http://docs.vagrantup.com/v2/providers/index.html</a>
</p>
</li>
<li>
<p>
example <code>016</code>
</p>
</li>
<li>
<p>
<code>openrc</code> file
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>export OS_AUTH_URL=http://10.100.0.1:5000/v2.0
export OS_TENANT_NAME="vagrant"
export OS_PROJECT_NAME="vagrant"
export OS_USERNAME="vagrant"
export OS_PASSWORD=password
export OS_REGION_NAME="RegionOne"</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>require 'vagrant-openstack-provider'

Vagrant.configure('2') do |config|
  config.ssh.username = 'ubuntu'

  config.vm.provider :openstack do |os|
    os.openstack_auth_url = 'http://10.100.0.1:5000/v2.0'
    os.username           = 'vagrant'
    os.password           = 'password'
    os.tenant_name        = 'vagrant'
    os.flavor             = 'm1.small'
    os.image              = 'Ubuntu 14.04'
    os.floating_ip_pool   = 'public'
  end
end</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<code>vagrant up --provider=openstack</code>
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2015-08-23 13:26:37 CEST
</div>
</div>
</body>
</html>
